(function(g){var window=this;'use strict';var Hf=function(y){y.publish("cardstatechange",y.Mo()&&y.Y0()?1:0)},RY=function(y,q){var Q=g.ve(q),p=Q?q:arguments;
for(Q=Q?0:1;Q<p.length;Q++){if(y==null)return;y=y[p[Q]]}return y},x_n=function(y){var q=g.jo(y);
y=g.v5(y);return new g.ol(q.x,q.y,y.width,y.height)},WmS=function(y,q,Q){var p=p===void 0?{}:p;
var v;return v=g.ae(y,q,function(){g.Nx(v);Q.apply(y,arguments)},p)},zV=function(y){y=g.V_(y);
delete MA[y];g.hn(MA)&&lC&&lC.stop()},t7S=function(){lC||(lC=new g.y0(function(){Zx_()},20));
var y=lC;y.isActive()||y.start()},Zx_=function(){var y=g.fh();
g.qO(MA,function(q){E4X(q,y)});
g.hn(MA)||t7S()},DK=function(y,q,Q,p){g.hr.call(this);
if(!Array.isArray(y)||!Array.isArray(q))throw Error("Start and end parameters must be arrays");if(y.length!=q.length)throw Error("Start and end points must be the same length");this.W=y;this.X=q;this.duration=Q;this.J=p;this.coords=[];this.progress=this.G=0;this.Y=null},E4X=function(y,q){q<y.startTime&&(y.endTime=q+y.endTime-y.startTime,y.startTime=q);
y.progress=(q-y.startTime)/(y.endTime-y.startTime);y.progress>1&&(y.progress=1);y.G=1E3/(q-y.Y);y.Y=q;kEm(y,y.progress);y.progress==1?(y.K=0,zV(y),y.onFinish(),y.T0()):y.isPlaying()&&y.z$()},kEm=function(y,q){typeof y.J==="function"&&(q=y.J(q));
y.coords=Array(y.W.length);for(var Q=0;Q<y.W.length;Q++)y.coords[Q]=(y.X[Q]-y.W[Q])*q+y.W[Q]},Lm_=function(y,q){g.XG.call(this,y);
this.coords=q.coords;this.x=q.coords[0];this.y=q.coords[1];this.z=q.coords[2];this.duration=q.duration;this.progress=q.progress;this.fps=q.G;this.state=q.K},uC=function(y,q,Q,p,v){DK.call(this,q,Q,p,v);
this.element=y},a8q=function(y,q,Q,p,v){if(q.length!=2||Q.length!=2)throw Error("Start and end points must be 2D");
uC.call(this,y,q,Q,p,v)},Nun=function(y){return Math.pow(y,3)},SJe=function(y){return 3*y*y-2*y*y*y},Hxk=function(y){g.I.call(this);
this.W=y||window;this.K=[]},IY=function(y){return y.baseUrl||null},n7=function(y,q){return g.DQ(g.W5(y,q),function(Q){return!!Q})},R8n=function(y,q,Q){function p(OC){var pS=OC.hovercardButton;
if(!pS)return null;pS=pS.subscribeButtonRenderer;if(!pS)return null;var YD=d(pS.unsubscribedButtonText),q9=d(pS.subscribedButtonText);if(pS.subscribed){var aj=d(pS.subscriberCountWithUnsubscribeText);var Pp=d(pS.subscriberCountText)}else aj=d(pS.subscriberCountText),Pp=d(pS.subscriberCountWithSubscribeText);var Fc=null;if(OC.signinEndpoint){Fc=RY(OC,"signinEndpoint","webNavigationEndpointData","url");if(!Fc){var Jm,gg;Fc=(gg=g.U((Jm=pS.signInEndpoint)==null?void 0:Jm.commandMetadata,g.ZV))==null?
void 0:gg.url}if(!Fc)return null}return YD&&(q9||Fc)?{subscribed:pS.subscribed,subscribeText:YD,subscribeCount:aj,unsubscribeText:q9,unsubscribeCount:Pp,enabled:pS.enabled,signinUrl:Fc,classic:OC.useClassicSubscribeButton}:null}
function v(OC){if(OC){var pS=[],YD=OC.videoId;YD&&pS.push("v="+YD);(YD=OC.playlistId)&&pS.push("list="+YD);(OC=OC.startTimeSeconds)&&pS.push("t="+OC);return"/watch?"+pS.join("&")}}
function d(OC){if(!OC)return null;var pS=OC.simpleText;return pS?pS:OC.runs?g.W5(OC.runs,function(YD){return YD.text}).join(""):null}
q=q.endscreenElementRenderer;if(!q)return null;var T=q.style,O=q.endpoint||{},w=null,J=null,F=!1,Y=null,f=null,h=null,b=null,Z=!1,k=null,S=null,N=null,l=null,u=null,c=null;if(T==="VIDEO")g.U(O,g.cN)?w=g.U(O,g.cN).url:(c=g.U(O,g.H3),w=v(c)),J=!1,Y=y,q.thumbnailOverlays?(F=q.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,f=d(F.text),F=F.style==="LIVE"):f=d(q.videoDuration);else if(T==="PLAYLIST")g.U(O,g.cN)?w=g.U(O,g.cN).url:(c=g.U(O,g.H3),w=v(c)),J=!1,Y=y,h=d(q.playlistLength);else if(T===
"CHANNEL"){if(Z=RY(O,"browseEndpoint","browseId"))b=Z,w="/channel/"+b;J=!1;Y="new";(Z=!!q.isSubscribe)?k=p(q):S=d(q.subscribersText)}else T==="WEBSITE"?((N=RY(O,"urlEndpoint","url"))&&(w=N),J=!0,Y="new",N=q.icon.thumbnails[0].url):T==="CREATOR_MERCHANDISE"&&(q.productPrice&&(l=d(q.productPrice)),q.additionalFeesText&&(u=d(q.additionalFeesText)),(J=RY(O,"urlEndpoint","url"))&&(w=J),J=!0,Y="new");y=RY(q,"title","accessibility","accessibilityData","label");var X=q.endpoint?q.endpoint.clickTrackingParams:
null,A="";if(q.metadata){var Tf=d(q.metadata);Tf&&(A=Tf)}return{id:"element-"+Q,type:T,title:d(q.title),metadata:A,callToAction:d(q.callToAction),Xg:q.image,iconUrl:N,left:Number(q.left),width:Number(q.width),top:Number(q.top),aspectRatio:Number(q.aspectRatio),startMs:Math.floor(Number(q.startMs)),endMs:Math.floor(Number(q.endMs)),videoDuration:f,gq:F,playlistLength:h,channelId:b,subscribeButton:k,subscribersText:S,isSubscribe:Z,targetUrl:w||null,F3y:J,sessionData:X?{itct:X}:null,RsB:Y,sx:y?y:null,
isPlaceholder:q.isPlaceholder,impressionUrls:n7(q.impressionUrls||[],IY),lL:n7(q.hovercardShowUrls||[],IY),clickUrls:n7(O.loggingUrls||[],IY),visualElement:g.t4(q.trackingParams),productPrice:l,additionalFeesText:u,watchEndpoint:c||null}},sAC=function(y,q){var Q={startMs:Math.floor(Number(y.startMs)),
impressionUrls:n7(y.impressionUrls||[],IY),elements:n7(y.elements||[],function(p,v){return R8n(q,p,v)})};
y.trackingParams&&(Q.visualElement=g.t4(y.trackingParams));return Q},M7h=function(y){g.LC.call(this,y);
this.Y=this.endscreen=null;this.W={};this.G={};this.J=this.N=null;this.C=[];this.K=null;this.cI=!0;this.X=0;y=y.T();this.j=g.F_(y)||g.fn(y);this.events=new g.sU(this);g.n(this,this.events);this.events.Z(this.player,g.jw("creatorendscreen"),this.onCueRangeEnter);this.events.Z(this.player,g.Qb("creatorendscreen"),this.onCueRangeExit);this.events.Z(this.player,"resize",this.n3);this.events.Z(window,"focus",this.Nd3);this.load();var q=g.bn("STYLE");(g.T7("HEAD")[0]||document.body).appendChild(q);this.addOnDisposeCallback(function(){g.Z5(q)});
q.sheet&&(q.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),q.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},l8h=function(y){return y.player.getVideoData().cO?"current":y.j?"new":"current"},g2=function(y){return y.player.T().playerStyle==="creator-endscreen-editor"},z8q=function(y){var q=y.player.getVideoData(),Q=q.videoId;
y.Y&&y.Y.abort();Q={method:"POST",onFinish:function(v){var d=y.Y=null;v.status===200&&(v=v.responseText,v.substring(0,3)===")]}"&&(v=v.substring(3),d=JSON.parse(v),d=sAC(d,l8h(y))));cf(y,d)},
urlParams:{v:Q},withCredentials:!0};y.j&&(Q.urlParams.ptype="embedded");var p=q.ZB;p&&(Q.postParams={ad_tracking:p});if(q=g.y3g(q))if(q=g.wV(q),q=g.Tq(q))y.Y=g.HF(q,Q)},cf=function(y,q,Q){Q=Q===void 0?!0:Q;
y.player.BO("creatorendscreen");y.N&&(y.N.dispose(),y.N=null,y.J.dispose(),y.J=null);for(var p=g.t(Object.values(y.W)),v=p.next();!v.done;v=p.next())v.value.dispose();y.W={};y.G={};y.C.length>0&&(y.C.forEach(function(O){O.dispose()}),y.C.length=0);
y.K&&(g.Fn(y.K,"ytp-ce-element-show"),y.K.setAttribute("aria-hidden","true"));y.X=0;if((y.endscreen=q)&&q.elements){Q&&D_u(y);Q=[];p=new g.yb(q.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});Q.push(p);y.player.T().W||(y.N=new g.r({S:"div",V:"ytp-ce-shadow"}),g.pq(y.player,y.N.element,4),y.J=new g.vt(y.N,200));for(p=0;p<q.elements.length;++p){v=q.elements[p];var d=uv_(y,v);if(d){y.W[v.id]=d;y.G[v.id]=v;g.pq(y.player,d.element,4);var T=new g.yb(v.startMs,v.endMs,{id:"ytp-ce-element-"+
v.id,namespace:"creatorendscreen"});Q.push(T);I8_(y,d,v)}else g.zI(new g.GH("buildEndscreenElement null",v))}y.player.Tf(Q);y.n3()}},D_u=function(y){var q=g.kl(),Q=g.LD();
Q&&q&&y.endscreen.visualElement&&g.q7(g.BW)(void 0,Q,q,y.endscreen.visualElement)},uv_=function(y,q){var Q=null;
switch(q.type){case "VIDEO":y={S:"div",rp:["ytp-ce-element","ytp-ce-video"],B:{tabindex:"0","aria-label":q.sx||"","aria-hidden":"true"},D:[{S:"div",V:"ytp-ce-element-shadow"},{S:"div",V:"ytp-ce-covering-image",B:Ut(q)},{S:"div",V:"ytp-ce-covering-shadow-top"},{S:"a",V:"ytp-ce-covering-overlay",B:{href:r2(y,q.targetUrl),tabindex:"-1"},D:[{S:"div",rp:["ytp-ce-video-title","ytp-webkit-ellipsis"],B:{dir:g.Zf(q.title||"")},M$:q.title},{S:"div",V:q.gq?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
M$:q.videoDuration||void 0}]}]};Q=new g.r(y);break;case "PLAYLIST":y={S:"div",rp:["ytp-ce-element","ytp-ce-playlist"],B:{tabindex:"0","aria-label":q.sx||"","aria-hidden":"true"},D:[{S:"div",V:"ytp-ce-element-shadow"},{S:"div",V:"ytp-ce-covering-image",B:Ut(q)},{S:"div",V:"ytp-ce-covering-shadow-top"},{S:"a",V:"ytp-ce-covering-overlay",B:{href:r2(y,q.targetUrl),tabindex:"-1"},D:[{S:"div",rp:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],B:{dir:g.Zf(q.title||"")},M$:q.title},{S:"div",V:"ytp-ce-playlist-count",
D:[{S:"div",V:"ytp-ce-playlist-icon"},{S:"div",V:"ytp-ce-playlist-count-text",M$:q.playlistLength||void 0}]}]}]};Q=new g.r(y);break;case "CHANNEL":Q={S:"div",rp:["ytp-ce-element","ytp-ce-channel",q.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],B:{tabindex:"0","aria-label":q.sx||"","aria-hidden":"true"},D:[{S:"div",V:"ytp-ce-element-shadow"},{S:"div",V:"ytp-ce-expanding-overlay",D:[{S:"div",V:"ytp-ce-expanding-overlay-hider"},{S:"div",V:"ytp-ce-expanding-overlay-background"},{S:"div",V:"ytp-ce-expanding-overlay-content",
D:[{S:"div",V:"ytp-ce-expanding-overlay-body",D:[{S:"div",V:"ytp-ce-expanding-overlay-body-padding",D:[{S:"a",rp:["ytp-ce-channel-title","ytp-ce-link"],B:{href:r2(y,q.targetUrl),target:"_blank",tabindex:"-1",dir:g.Zf(q.title||"")},M$:q.title},q.subscribeButton?{S:"div",V:"ytp-ce-subscribe-container",D:[{S:"div",V:"ytp-ce-channel-subscribe"}]}:"",q.subscribersText?{S:"div",V:"ytp-ce-channel-subscribers-text",M$:q.subscribersText}:"",q.metadata?{S:"div",rp:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],M$:q.metadata}:""]}]}]}]},{S:"div",V:"ytp-ce-expanding-image",B:Ut(q)}]};Q=new g.r(Q);var p=g.OQ(document,"div","ytp-ce-channel-subscribe",Q.element)[0];if(q.subscribeButton&&q.channelId){g.wl(p,"ytp-ce-subscribe-button");if(y.player.T().W){var v=null;var d=q.sessionData.itct}else v="endscreen",d=null;v=new g.vu(q.subscribeButton.subscribeText,q.subscribeButton.subscribeCount,q.subscribeButton.unsubscribeText,q.subscribeButton.unsubscribeCount,!!q.subscribeButton.enabled,!!q.subscribeButton.classic,
q.channelId,!!q.subscribeButton.subscribed,v,d,y.player,!1);p.appendChild(v.element);y.C.push(v)}break;case "WEBSITE":y={S:"div",rp:["ytp-ce-element","ytp-ce-website"],B:{tabindex:"0","aria-label":q.sx||"","aria-hidden":"true"},D:[{S:"div",V:"ytp-ce-element-shadow"},{S:"div",V:"ytp-ce-expanding-overlay",D:[{S:"div",V:"ytp-ce-expanding-overlay-hider"},{S:"div",V:"ytp-ce-expanding-overlay-background"},{S:"div",V:"ytp-ce-expanding-overlay-content",D:[{S:"div",V:"ytp-ce-expanding-overlay-body",D:[{S:"div",
V:"ytp-ce-expanding-overlay-body-padding",D:[{S:"div",V:"ytp-ce-website-title",B:{dir:g.Zf(q.title||"")},M$:q.title},{S:"div",V:"ytp-ce-website-metadata",M$:q.metadata},{S:"a",rp:["ytp-ce-website-goto","ytp-ce-link"],B:{href:r2(y,q.targetUrl),target:"_blank",tabindex:"-1"},M$:q.callToAction}]}]}]}]},{S:"div",V:"ytp-ce-expanding-image",B:Ut(q)},{S:"div",V:"ytp-ce-expanding-icon",B:n4h(q.iconUrl)}]};Q=new g.r(y);break;case "CREATOR_MERCHANDISE":Q="",q.productPrice&&(Q={S:"div",V:"ytp-ce-merchandise-price-container",
D:[{S:"div",V:"ytp-ce-merchandise-price",M$:q.productPrice}]},q.additionalFeesText&&Q.D.push({S:"div",V:"ytp-ce-merchandise-additional-fees",M$:q.additionalFeesText})),y={S:"div",rp:["ytp-ce-element","ytp-ce-merchandise"],B:{tabindex:"0","aria-label":q.sx||"","aria-hidden":"true"},D:[{S:"div",V:"ytp-ce-element-shadow"},{S:"div",V:"ytp-ce-expanding-overlay",D:[{S:"div",V:"ytp-ce-expanding-overlay-hider"},{S:"div",V:"ytp-ce-expanding-overlay-background"},{S:"div",V:"ytp-ce-expanding-overlay-content",
D:[{S:"div",V:"ytp-ce-expanding-overlay-body",D:[{S:"div",V:"ytp-ce-expanding-overlay-body-padding",D:[{S:"div",V:"ytp-ce-merchandise-title",B:{dir:g.Zf(q.title||"")},M$:q.title},Q,{S:"div",V:"ytp-ce-merchandise-metadata",M$:q.metadata},{S:"a",rp:["ytp-ce-merchandise-goto","ytp-ce-link"],B:{href:r2(y,q.targetUrl),target:"_blank",tabindex:"-1"},M$:q.callToAction}]}]}]}]},{S:"div",V:"ytp-ce-expanding-image",B:Ut(q)},{S:"div",V:"ytp-ce-merchandise-invideo-cta-container",D:[{S:"div",V:"ytp-ce-merchandise-invideo-cta",
M$:q.callToAction||void 0}]}]},Q=new g.r(y)}q.isPlaceholder&&g.wl(Q.element,"ytp-ce-placeholder");return Q},Ut=function(y){if(y.Xg)var q=y.Xg.thumbnails;
return n4h(q?q[q.length-1].url:null)},n4h=function(y){return y?{style:"background-image: url("+y+")"}:{}},I8_=function(y,q,Q){function p(w){w&&(q.listen("blur",function(){w.style.display!="none"&&y.cI&&w.focus()}),q.Z(w,"focus",d),q.Z(w,"blur",T))}
function v(w){y.X+=w;y.X>0?(g.wl(q.element,"ytp-ce-force-expand"),oY(y,Q.id,!0)):(g.Fn(q.element,"ytp-ce-force-expand"),g.Fn(q.element,"ytp-ce-element-hover"),oY(y,Q.id,!1))}
function d(){v(1)}
function T(){v(-1)}
q.listen("mouseenter",function(){g4_(y,q,Q)});
q.listen("mouseleave",function(){cim(y,q,Q)});
y.player.T().W||q.listen("click",function(){g.wl(q.element,"ytp-ce-element-hover")});
q.listen("click",function(w){U_G(y,Q,w)});
q.listen("keypress",function(w){U_G(y,Q,w)});
q.listen("focus",function(){g4_(y,q,Q)});
q.listen("blur",function(){cim(y,q,Q)});
q.listen("touchstart",function(){g4_(y,q,Q)});
var O=g.w0("ytp-ce-expanding-overlay-hider",q.element);O&&q.Z(O,"touchstart",function(w){w.stopPropagation();g.Fn(q.element,"ytp-ce-element-hover");g.Fn(q.element,"ytp-ce-force-expand")});
q.listen("keydown",function(w){y.cI=w.keyCode===9&&!w.shiftKey});
p(g.w0("ytp-sb-subscribe",q.element));p(g.w0("ytp-sb-unsubscribe",q.element));q.listen("focus",d);q.listen("blur",T)},U_G=function(y,q,Q){if(q.targetUrl&&(!Q||Q.type!=="keypress"||Q.keyCode===13)){for(var p=Q.target;p&&!g.O$(p,"ytp-ce-element");){g.O$(p,"subscribe-label")&&riX(y,q);
if(g.O$(p,"ytp-ce-channel-subscribe"))return;p=p.parentElement||null}if(!p||g.O$(p,"ytp-ce-element-hover")){Q.preventDefault();Q.stopPropagation();if(p=y.W[q.id])cim(y,p,q),p.element.blur();if(Q.ctrlKey||Q.metaKey||q.RsB==="new")riX(y,q),y.player.sendVideoStatsEngageEvent(17,void 0),y.player.pauseVideo(),Q=g.wV(r2(y,q.targetUrl)),Q=g.Tq(Q),g.Pt(Q,void 0,q.sessionData);else{var v=g.Nj(y.player.T())||y.player.getVideoData().cO,d=function(){var T=r2(y,q.targetUrl),O=q.sessionData,w=q.watchEndpoint,J=
g.TS(T);v&&J&&(J.v||J.list)?y.player.HA(J.v,O,J.list,!1,void 0,w||void 0):g.G5(T,O)};
riX(y,q,function(){y.player.sendVideoStatsEngageEvent(17,d)})}}}},r2=function(y,q){y=y.player.T();
if(q){if(q.startsWith("//"))return y.protocol+":"+q;if(q.startsWith("/"))return g.ue(y)+q}else return"";return q},g4_=function(y,q,Q){g.O$(q.element,"ytp-ce-element-hover")||(Q.type==="VIDEO"||Q.type==="PLAYLIST"?g.wl(q.element,"ytp-ce-element-hover"):y.player.T().W?(new g.y0(function(){g.wl(q.element,"ytp-ce-element-hover")},200)).start():g.wl(q.element,"ytp-ce-element-hover"),AQ(y,Q.lL),oY(y,Q.id,!0))},cim=function(y,q,Q){g.Fn(q.element,"ytp-ce-element-hover");
g.Fn(q.element,"ytp-ce-force-expand");oY(y,Q.id,!1)},oY=function(y,q,Q){y.N&&(Q?y.J.show():y.J.hide());
for(var p=g.t(Object.keys(y.W)),v=p.next();!v.done;v=p.next())v=v.value,v!==q&&g.fU(y.W[v].element,"ytp-ce-element-shadow-show",Q)},AQ=function(y,q,Q){function p(){d||(v++,v===q.length&&(T.stop(),Q&&Q()))}
if(!q||q.length===0||g2(y))Q&&Q();else{q=o4S(y,q);var v=0,d=!1,T=new g.y0(function(){d=!0;Q&&Q()},1E3,y);
T.start();for(y=0;y<q.length;y++)g.n0(q[y],p)}},riX=function(y,q,Q){AQ(y,q.clickUrls,Q);
(y=g.LD())&&q.F3y&&g.p1(y,q.visualElement)},o4S=function(y,q){var Q=y.player.getVideoData().clientPlaybackNonce;
y=y.player.getCurrentTime().toFixed(2);Q={CPN:Q,AD_CPN:Q,MT:y};y=[];for(var p=0;p<q.length;p++)y.push(Aik(q[p],Q));return y},Aik=function(y,q){return y.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(Q){var p=unescape(Q);
p=p.substring(1,p.length-1);return q[p]?escape(q[p]):Q})},e8u=function(y){return typeof y==="string"?y:""},eZ=function(y,q,Q){for(var p in q)if(q[p]===y)return y;
return Q},Bu_=function(y,q,Q,p){this.value=y;
this.target=q;this.showLinkIcon=Q;this.K=p},Bf=function(y){return y.value?y.value:null},GV=function(y){if(!y)return null;
var q=g.wV(e8u(y.value));q=g.Tq(q);if(!q)return null;var Q=eZ(y.target,GEq,"current");if(Q==null)y=null;else{var p=y.show_link_icon;y=new Bu_(q,Q,p==="true"||p==="false"?p==="true":!0,y.pause_on_navigation!=null?y.pause_on_navigation:!0)}return y},POh=function(y,q,Q){this.type=y;
this.trigger=q;this.url=Q},m_m=function(y){if(!y)return null;
var q=eZ(y.type,ixk),Q=eZ(y.trigger,XkX);y=y.url;y=Array.isArray(y)&&y.length?y[0]:y;y=GV(y?y:null);return q?new POh(q,Q,y):null},CO_=function(y,q,Q,p,v){this.id=y;
this.type=q;this.style=Q;this.data=v;this.action=p||[]},yOe=function(y,q){return g.ZC(y.action,q)},qqe=function(y,q){this.context=y;
this.K=q},jMc=function(y){return y.customMessage?Pf("div","iv-card-message",y.customMessage):""},iC=function(y,q){y="background-image: url("+y+");";
var Q=[];q&&Q.push(q);return{S:"div",V:"iv-card-image",B:{style:y},D:Q}},QMm=function(y){if(!y.metaInfo||y.metaInfo.length===0)return"";
var q=[];y=g.t(y.metaInfo);for(var Q=y.next();!Q.done;Q=y.next())q.push(Pf("li","",Q.value));return{S:"ul",V:"iv-card-meta-info",D:q}},Pf=function(y,q,Q){q?typeof q==="string"?q={"class":q}:Array.isArray(q)&&(q={"class":q.join(" ")}):q={};
q.dir=g.Zf(Q);return{S:y,B:q,M$:Q}},pvw=function(y){if(!y.customMessage)return"";
var q=["iv-card-action","iv-card-primary-link"],Q={};y.Z7&&(q.push("iv-card-action-icon"),Q.style="background-image: url("+y.Z7+");");Q.dir=g.Zf(y.customMessage);var p=[{S:"span",M$:y.customMessage}];y.showLinkIcon&&(p.push("\u00a0"),p.push({S:"span",V:"iv-card-link-icon"}));return{S:"div",rp:q,B:Q,D:p}},XA=function(y,q,Q,p){if(p){q=g.t(q);
for(var v=q.next();!v.done;v=q.next())y.K(v.value,p,Q.id,Q.sessionData,Q.uH.click,5)}},v$c=function(y,q){this.merchant=y;
this.price=q},dH_=function(y){var q;
(q=y)&&!(q=y.length>1?y.charAt(0)==="/"&&y.charAt(1)!=="/":y==="/")&&(q=y.replace(/^(https?:)?\/\//,"").split("/",1),q=!q||q.length<1||!q[0]?[]:q[0].toLowerCase().split(".").reverse(),q=q[0]==="com"&&q[1]==="youtube"||q[0]==="be"&&q[1]==="youtu");return q?y.indexOf("/redirect?")===-1:!1},TFk=function(y,q){return q?q:dH_(y)?"current":"new"},m9=function(y,q){g.I.call(this);
var Q=this;this.element=y;this.context=q;this.Os=!1;this.HI=new Map;this.Ty=new Map;this.context.U.addEventListener(g.jw("annotations_module"),function(p){(p=Q.HI.get(p))&&p.apply(Q)});
this.context.U.addEventListener(g.Qb("annotations_module"),function(p){(p=Q.Ty.get(p))&&p.apply(Q)})},C7=function(y,q,Q,p,v,d,T){y.context.K.listen(q,"click",function(O){y.T$(Q,p,v,d||[],T||0,O)});
y.context.K.listen(q,"touchstart",function(){y.Os=!1});
y.context.K.listen(q,"touchmove",function(){y.Os=!0})},V5c=function(y){var q;
return((q=g.U(y,g.cN))==null?0:q.url)?g.U(y,g.cN).url:(y=g.U(y,g.H3))&&y.videoId?(q="/watch?v="+y.videoId,y.playlistId&&(q+="&list="+y.playlistId),y.index&&(q+="&index="+y.index),y.startTimeSeconds&&(q+="&t="+y.startTimeSeconds),q):null},yw=function(y,q,Q){return{NS:(y.impressionLoggingUrlsV2s||[]).map(function(p){return p.baseUrl||""}),
click:(Q.loggingUrls||[]).map(function(p){return p.baseUrl||""}),
close:(q.dismissLoggingUrlsV2s||[]).map(function(p){return p.baseUrl||""}),
j5:(q.impressionLoggingUrlsV2s||[]).map(function(p){return p.baseUrl||""}),
MP:(q.clickLoggingUrlsV2s||[]).map(function(p){return p.baseUrl||""})}},OA_=function(y,q,Q){m9.call(this,q,Q);
var p=this;this.U=y;this.eventId=null;this.RH=this.vI=this.Se=this.N=this.isInitialized=!1;this.cards=[];this.q$=this.J=this.Es=this.G=this.Vm=this.K=null;this.cI=[];this.N$=this.C=this.Kn=this.gp=null;this.X=0;this.Sj=new g.y0(function(){},Q.KK.fV?4E3:3E3);
g.n(this,this.Sj);this.Dw=new g.y0(function(){});
g.n(this,this.Dw);this.m3=new qqe(Q,function(v,d,T,O,w,J){C7(p,v,d,T,O,w,J)});
this.j=new g.r({S:"div",V:"iv-drawer",B:{id:"iv-drawer"},D:[{S:"div",V:"iv-drawer-header",B:{"aria-role":"heading"},D:[{S:"span",V:"iv-drawer-header-text"},{S:"button",rp:["iv-drawer-close-button","ytp-button"],B:{"aria-label":"Hide cards",tabindex:"0"}}]},{S:"div",V:"iv-drawer-content"}]});g.n(this,this.j);this.Y=this.j.element;this.BI=new g.vt(this.j,330);g.n(this,this.BI);this.cB=g.w0("iv-drawer-header-text",this.Y);this.W=g.w0("iv-drawer-content",this.Y);this.addCueRange(0,Q.videoData.lengthSeconds*
1E3,"",function(){p.Se&&qz(p,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(p.Se=p.N)&&j8(p)});
this.LK=new g.sU(this);g.n(this,this.LK);this.U.addEventListener("videodatachange",this.gR.bind(this))},wvc=function(y,q){q=q.data;
q.autoOpenMs&&y.addCueRange(q.autoOpenMs,0x8000000000000,"",function(){qz(y,"YOUTUBE_DRAWER_AUTO_OPEN")});
q.autoCloseMs&&y.addCueRange(q.autoCloseMs,0x8000000000000,"",function(){j8(y)});
var Q=q.headerText;g.al(y.cB,Q);y.J&&(y.U.L("player_tooltip_data_title_killswitch")?y.J.setAttribute("title",Q):y.J.setAttribute("data-tooltip-title",Q));q.eventId&&(y.eventId=q.eventId);y.gp=g.t4(q.trackingParams);y.C=g.t4(q.closeTrackingParams);y.Kn=g.t4(q.iconTrackingParams)},JOu=function(y,q){var Q=q.cardId?q.cardId:"cr:"+y.X,p=y.U.T().experiments.ob("enable_error_corrections_infocard_web_client");
if(!q.content&&q.teaser.simpleCardTeaserRenderer&&p){var v=q.teaser.simpleCardTeaserRenderer,d=q.icon?q.icon.infoCardIconRenderer:null;if(v.channelAvatar&&v.channelAvatar.thumbnails&&v.channelAvatar.thumbnails.length>0)var T=Qw(v.channelAvatar.thumbnails,22,22).url;q={id:Q,timestamp:y.X,type:"simple",teaserText:g.b7(v.message),teaserDurationMs:Number(q.cueRanges[0].teaserDurationMs),startMs:Number(q.cueRanges[0].startCardActiveMs),autoOpen:!!q.autoOpen,sessionData:{},sponsored:!1,uH:{},uE:null,CV:v.trackingParams?
g.t4(v.trackingParams):null,Kn:d&&d.trackingParams?g.t4(d.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,Z7:null,title:"",customMessage:"",url:null,onClickCommand:v.onTapCommand||null,lN:T};pc(y,q)}else{var O;if((O=q.content)==null?0:O.simpleCardContentRenderer){if(!q.cueRanges.length)return;T=(v=q.content)==null?void 0:v.simpleCardContentRenderer;v=q.teaser.simpleCardTeaserRenderer;d=q.icon?q.icon.infoCardIconRenderer:null;q={id:Q,timestamp:y.X,type:"simple",teaserText:g.b7(v.message),
teaserDurationMs:Number(q.cueRanges[0].teaserDurationMs),startMs:Number(q.cueRanges[0].startCardActiveMs),autoOpen:!!q.autoOpen,sessionData:vx(y,Q,q,T),sponsored:!1,uH:yw(T,v,T.command),uE:T.trackingParams?g.t4(T.trackingParams):null,CV:v.trackingParams?g.t4(v.trackingParams):null,Kn:d&&d.trackingParams?g.t4(d.trackingParams):null,imageUrl:Qw(T.image.thumbnails,290,290).url,displayDomain:T.displayDomain?g.b7(T.displayDomain):null,showLinkIcon:!!T.showLinkIcon,Z7:null,title:T.title?g.b7(T.title):"",
customMessage:T.callToAction?g.b7(T.callToAction):"",url:g.U(T.command,g.cN).url?GV({pause_on_navigation:!y.context.videoData.isLivePlayback,target:"new",value:g.U(T.command,g.cN).url}):null,onClickCommand:null};pc(y,q)}else{var w;if((w=q.content)==null?0:w.collaboratorInfoCardContentRenderer){if(!q.cueRanges.length)return;T=(d=q.content)==null?void 0:d.collaboratorInfoCardContentRenderer;v=q.teaser.simpleCardTeaserRenderer;d=q.icon?q.icon.infoCardIconRenderer:null;q={id:Q,timestamp:y.X,type:"collaborator",
teaserText:g.b7(v.message),teaserDurationMs:Number(q.cueRanges[0].teaserDurationMs),startMs:Number(q.cueRanges[0].startCardActiveMs),autoOpen:!!q.autoOpen,sessionData:vx(y,Q,q,T),sponsored:!1,uH:yw(T,v,T.endpoint),uE:T.trackingParams?g.t4(T.trackingParams):null,CV:v.trackingParams?g.t4(v.trackingParams):null,Kn:d&&d.trackingParams?g.t4(d.trackingParams):null,channelId:g.U(T.endpoint,g.jY).browseId,customMessage:T.customText?g.b7(T.customText):null,profileImageUrl:Qw(T.channelAvatar.thumbnails,290,
290).url,title:T.channelName?g.b7(T.channelName):"",metaInfo:[T.subscriberCountText?g.b7(T.subscriberCountText):""],url:GV({pause_on_navigation:!y.context.videoData.isLivePlayback,target:"new",value:g.U(T.endpoint,g.jY).canonicalBaseUrl?g.U(T.endpoint,g.jY).canonicalBaseUrl:"/channel/"+g.U(T.endpoint,g.jY).browseId}),onClickCommand:null};pc(y,q)}else{var J;if((J=q.content)==null?0:J.playlistInfoCardContentRenderer){if(!q.cueRanges.length)return;var F;T=(F=q.content)==null?void 0:F.playlistInfoCardContentRenderer;
v=q.teaser.simpleCardTeaserRenderer;d=q.icon?q.icon.infoCardIconRenderer:null;q={id:Q,timestamp:y.X,type:"playlist",teaserText:g.b7(v.message),teaserDurationMs:Number(q.cueRanges[0].teaserDurationMs),startMs:Number(q.cueRanges[0].startCardActiveMs),autoOpen:!!q.autoOpen,sessionData:vx(y,Q,q,T),sponsored:!1,uH:yw(T,v,T.action),uE:T.trackingParams?g.t4(T.trackingParams):null,CV:v.trackingParams?g.t4(v.trackingParams):null,Kn:d&&d.trackingParams?g.t4(d.trackingParams):null,Cz:Qw(T.playlistThumbnail.thumbnails,
258,290).url,customMessage:T.customMessage?g.b7(T.customMessage):null,playlistVideoCount:g.b7(T.playlistVideoCount),title:T.playlistTitle?g.b7(T.playlistTitle):"",metaInfo:[T.channelName?g.b7(T.channelName):"",T.videoCountText?g.b7(T.videoCountText):""],url:GV({pause_on_navigation:!y.context.videoData.isLivePlayback,target:"new",value:V5c(T.action)}),onClickCommand:null};pc(y,q)}else{var Y;if((Y=q.content)==null?0:Y.videoInfoCardContentRenderer){if(!q.cueRanges.length)return;var f;T=(f=q.content)==
null?void 0:f.videoInfoCardContentRenderer;v=q.teaser.simpleCardTeaserRenderer;d=q.icon?q.icon.infoCardIconRenderer:null;q={id:Q,timestamp:y.X,type:"video",teaserText:g.b7(v.message),teaserDurationMs:Number(q.cueRanges[0].teaserDurationMs),startMs:Number(q.cueRanges[0].startCardActiveMs),autoOpen:!!q.autoOpen,sessionData:vx(y,Q,q,T),sponsored:!1,uH:yw(T,v,T.action),uE:T.trackingParams?g.t4(T.trackingParams):null,CV:v.trackingParams?g.t4(v.trackingParams):null,Kn:d&&d.trackingParams?g.t4(d.trackingParams):
null,Cz:Qw(T.videoThumbnail.thumbnails,258,290).url,videoDuration:T.lengthString?g.b7(T.lengthString):null,customMessage:T.customMessage?g.b7(T.customMessage):null,title:T.videoTitle?g.b7(T.videoTitle):"",metaInfo:[T.channelName?g.b7(T.channelName):"",T.viewCountText?g.b7(T.viewCountText):""],isLiveNow:!!T.badge,url:GV({pause_on_navigation:!y.context.videoData.isLivePlayback,target:"new",value:V5c(T.action)}),onClickCommand:null};pc(y,q)}}}}}y.X++},Qw=function(y,q,Q){for(var p=-1,v=-1,d=0;d<y.length;d++){if(y[d].height===
q||y[d].width===Q)return y[d];
((y[d].height||0)<q||(y[d].width||0)<Q)&&(p<0||(y[p].height||0)<(y[d].height||0)||(y[p].width||0)<(y[d].width||0))?p=d:((y[d].height||0)>=q||(y[d].width||0)>=Q)&&(v<0||(y[v].height||0)>(y[d].height||0)||(y[v].width||0)>(y[d].width||0))&&(v=d)}return y[v>=0?v:p]},vx=function(y,q,Q,p){return{feature:Q.feature?Q.feature:"cards",
src_vid:y.context.videoData.videoId,annotation_id:q,ei:y.context.videoData.eventId||"",itct:p.trackingParams||""}},Yq_=function(y,q){if(q=F6c(y,q))q===y.K&&(y.K=null),y.U.removeCueRange(q.TI.id),g.Z5(q.K5),g.Lh(y.cards,q),y.xp(),db(y)},qz=function(y,q,Q){if(!y.N){y.BI.show();
y.Vm=new g.y0(function(){g.wl(y.context.U.getRootNode(),g.Sl.IV_DRAWER_OPEN)},0);
y.Vm.start();y.LK.Z(y.W,"mousewheel",function(T){y.Sj.start();T.preventDefault();T=T||window.event;var O=0;T.type=="MozMousePixelScroll"?O=0==(T.axis==T.HORIZONTAL_AXIS)?T.detail:0:window.opera?O=T.detail:O=T.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?T.wheelDeltaY/-30:T.wheelDeltaY/-1.2:T.wheelDelta/-1.6:T.wheelDeltaY/-3;if(T=O)y.W.scrollTop+=T});
y.N=!0;var p=g.LD();p&&y.gp&&y.C&&g.jA(p,[y.gp,y.C]);q={TRIGGER_TYPE:q};for(var v=g.t(y.cards),d=v.next();!d.done;d=v.next())d=d.value,d.Pr||(d.Pr=!0,fom(y.context.logger,d.TI.uH.NS,q)),p&&g.jA(p,[d.TI.uE]);Hf(y.U);Q&&(y.G=new g.y0(function(){y.Es=y.J;y.q$.focus()},330),y.G.start())}},j8=function(y){y.N&&(y.BI.hide(),g.lw(y.LK),g.Fn(y.context.U.getRootNode(),g.Sl.IV_DRAWER_OPEN),y.N=!1,Hf(y.U),y.G&&y.G.stop(),y.G=new g.y0(function(){y.Es&&(y.Es.focus(),y.Es=null)},330),y.G.start())},hGu=function(y){g.Jr(y.aH(),
[g.Sl.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.pq(y.U,y.Y,5);y.Me();y.J=g.w0("ytp-cards-button",y.U.getRootNode());y.q$=g.w0("iv-drawer-close-button",y.Y);y.isInitialized=!0},bAn=function(y){y.cI.push(g.Q8("iv-teaser-shown",y.NF,y));
y.cI.push(g.Q8("iv-teaser-hidden",y.ZKI,y));y.cI.push(g.Q8("iv-teaser-clicked",y.R3,y));y.RH=!0},$Hh=function(y,q){var Q;
return q.onClickCommand&&((Q=g.U(q.onClickCommand,g.AKk))==null?void 0:Q.targetId)==="engagement-panel-error-corrections"?(y.N$=q,!0):!1},K6c=function(y,q){y.N$=q;
var Q=y.U.getVideoData();if(!Q)return!1;Q=g.dx(Q);if(Q==null?0:Q.markersMap)for(var p,v=0;((p=Q)==null?void 0:p.markersMap.length)>v;v++){var d=void 0,T=(d=Q)==null?void 0:d.markersMap[v];if(T.key==="ERROR_CORRECTION_MARKERS"&&(d=void 0,(T=(d=T.value)==null?void 0:d.markers)&&T.length>0))return p=void 0,q.startMs=((p=g.U(T[0],g.Y5p))==null?void 0:p.timeRangeStartMillis)||0,y.N$=null,!0}return!1},pc=function(y,q){if(!$Hh(y,q)||K6c(y,q)){var Q=xH_(y,q);
if(Q){var p={TI:q,K5:Q.element,Pr:!1};if(q.onClickCommand)y.U.L("web_infocards_teaser_show_logging_fix")&&(y.RH||bAn(y),Yq_(y,q.id),Q=y.findLastIndex(p),g.rk(y.cards,Q,0,p));else{y.isInitialized||hGu(y);Yq_(y,q.id);var v=y.findLastIndex(p);g.rk(y.cards,v,0,p);Q.ym(y.W,v);y.xp()}q.autoOpen?y.addCueRange(q.startMs,0x8000000000000,q.id,function(){y.N||(y.K=p,db(y),W6h(y,p),qz(y,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(Q=y.context.U.getCurrentTime()*1E3,Q<5E3&&Q>q.startMs&&ZAc(y,p),y.addCueRange(q.startMs,
q.startMs+1,q.id,function(){ZAc(y,p)}),db(y))}}},xH_=function(y,q){switch(q.type){case "simple":y=y.m3;
var Q=q.displayDomain?{S:"div",V:"iv-card-image-text",M$:q.displayDomain}:void 0;var p=pvw(q);Q={S:"div",rp:["iv-card"],D:[{S:"a",V:"iv-click-target",B:{href:q.url?Bf(q.url)||"":""},D:[iC(q.imageUrl,Q),{S:"div",V:"iv-card-content",D:[Pf("h2",void 0,q.title),p]}]}]};Q=new g.r(Q);XA(y,g.VH("iv-click-target",Q.element),q,q.url);q=Q;break;case "collaborator":y=y.m3;Q={S:"div",rp:["iv-card","iv-card-channel"],D:[{S:"a",rp:["iv-click-target"],B:{href:Bf(q.url)||"","data-ytid":q.channelId},D:[iC(q.profileImageUrl),
{S:"div",V:"iv-card-content",D:[jMc(q),{S:"h2",V:"iv-card-primary-link",M$:q.title},QMm(q)]}]}]};Q=new g.r(Q);XA(y,g.VH("iv-click-target",Q.element),q,q.url);q=Q;break;case "playlist":y=y.m3;Q={S:"div",rp:["iv-card","iv-card-playlist"],D:[{S:"a",V:"iv-click-target",B:{href:Bf(q.url)||""},D:[iC(q.Cz,{S:"div",V:"iv-card-image-overlay",D:[{S:"span",V:"iv-card-playlist-video-count",M$:q.playlistVideoCount}]}),{S:"div",V:"iv-card-content",D:[jMc(q),Pf("h2","iv-card-primary-link",q.title),QMm(q)]}]}]};
Q=new g.r(Q);XA(y,g.VH("iv-click-target",Q.element),q,q.url);q=Q;break;case "productListing":y=y.m3;var v=q.offers.length!=0;Q=["iv-card"];p="";var d=pvw(q);v&&(Q.push("iv-card-product-listing"),p="iv-card-primary-link",d=q.offers[0],v=[],d.price&&v.push({S:"div",V:"iv-card-offer-price",M$:d.price}),d.merchant&&v.push({S:"div",V:"iv-card-offer-merchant",M$:d.merchant}),d={S:"div",D:v});v=q.url?Bf(q.url)||"":"";Q={S:"div",rp:Q,B:{tabindex:"0"},D:[{S:"a",rp:["iv-card-image","iv-click-target"],B:{style:"background-image: url("+
q.imageUrl+");",href:v,"aria-hidden":"true",tabindex:"-1"}},{S:"div",V:"iv-card-content",D:[q.sponsored?{S:"div",V:"iv-card-sponsored",D:["Sponsored",{S:"div",V:"iv-ad-info-container",D:[{S:"div",V:"iv-ad-info",M$:"{{adInfo}}"},{S:"div",V:"iv-ad-info-icon-container",D:[{S:"div",V:"iv-ad-info-icon"},{S:"div",V:"iv-ad-info-callout"}]}]}]}:"",{S:"a",V:"iv-click-target",B:{href:v},D:[Pf("h2",p,q.title),d]}]}]};Q=new g.r(Q);p=g.bn("span");g.al(p,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
Q.Ct(p,"adInfo");XA(y,g.VH("iv-click-target",Q.element),q,q.url);q=Q;break;case "video":y=y.m3;p=q.videoDuration?{S:"span",V:"iv-card-video-duration",M$:q.videoDuration}:void 0;d=q.isLiveNow?{S:"span",rp:["yt-badge","yt-badge-live"],M$:"LIVE NOW"}:null;v={S:"div",rp:["iv-card","iv-card-video"],D:[{S:"a",V:"iv-click-target",B:{href:((Q=q.url)==null?void 0:Bf(Q))||""},D:[iC(q.Cz,p),{S:"div",V:"iv-card-content",D:[jMc(q),Pf("h2","iv-card-primary-link",q.title),QMm(q),d]}]}]};Q=new g.r(v);XA(y,g.VH("iv-click-target",
Q.element),q,q.url);q=Q;break;default:return null}return q},t5w=function(y){if(y.K)return y.K.TI.type==="productListing";
if(y.U.L("enable_wn_infocards")){var q;return!((q=y.cards)==null||!q.length)&&g.Zn(y.cards,function(Q){return Q.TI.type==="productListing"})}return g.Zn(y.cards,function(Q){return Q.TI.type==="productListing"})},db=function(y){g.fU(y.U.getRootNode(),"ytp-cards-shopping-active",t5w(y))},ZAc=function(y,q){if(!g.O$(y.U.getRootNode(),"ytp-cards-teaser-shown")){if(y.K!==q){var Q=g.LD(),p=y.K?y.K.TI.Kn:y.Kn;
Q&&p&&g.Q6(Q,[p]);y.K=q;db(y)}(Q=y.isInitialized&&y.aH().style.display=="none")||(Q=y.context.U.getPlayerState(),p=Q===0&&y.context.U.getCurrentTime()===0,Q=!(Q===1||Q===3||p));if(!Q&&q.TI.teaserDurationMs){var v;Q={teaserText:q.TI.teaserText,durationMs:q.TI.teaserDurationMs,onClickCommand:q.TI.onClickCommand,lN:(v=q.TI.lN)!=null?v:null};y.U.v8(!0,Q)}y.Dw.isActive()||((!y.N||!y.Sj.isActive()&&y.vI)&&W6h(y,q),y.Dw.start(910+q.TI.teaserDurationMs))}},W6h=function(y,q){y.j.NU?(q=new DK([0,
y.W.scrollTop],[0,q.K5.offsetTop],600,SJe),y.context.N.listen(q,"animate",function(Q){y.W.scrollTop=Q.y}),y.context.N.listen(q,"finish",function(Q){y.W.scrollTop=Q.y}),q.play()):(y.j.BB(!0),y.W.scrollTop=q.K5.offsetTop,y.j.BB(!1))},Tg=function(y){return y.K&&y.K.TI?y.K.TI:y.cards[0]&&y.cards[0].TI?y.cards[0].TI:null},F6c=function(y,q){return g.ZC(y.cards,function(Q){return Q.TI.id===q})},Vw=function(y,q,Q){m9.call(this,y,q);
this.annotation=Q;this.isActive=!1},E$_=function(y){var q=y.annotation.data;
"start_ms"in q&&"end_ms"in q&&y.addCueRange(Number(q.start_ms),Number(q.end_ms),y.annotation.id,function(){y.show()},function(){y.hide()})},O5=function(y,q,Q){Vw.call(this,y,q,Q);
this.W=null;this.X=!1;this.N=null;this.Y=!1;this.K=this.G=this.J=null},k6u=function(y,q){var Q=Q===void 0?0:Q;
var p=x_n(q).width;g.yh(q,p);Q=new a8q(q,[p,q.offsetTop],[p-p-Q,q.offsetTop],200,Nun);g.n(y,Q);y.context.N.listen(Q,"begin",function(){g.dM(q,!0)});
Q.play()},NFm=function(y,q){if(q.channel_name){var Q=y.createElement({S:"div",
rp:["iv-branding-context-name"],M$:q.channel_name}),p=y.createElement({S:"div",rp:["iv-branding-context-subscribe"]}),v=q.standalone_subscribe_button_data;v&&(y.K=new g.vu(v.subscribeText,v.subscribeCount,v.unsubscribeText,v.unsubscribeCount,!!v.enabled,!!v.classic,q.channel_id,!!v.subscribed,v.feature,q.session_data.itct,y.context.U,!1),y.K.ym(p));var d=y.createElement({S:"div",rp:["iv-branding-context-subscribe-caret"]}),T=y.createElement({S:"div",rp:["branding-context-container-inner"]});T.appendChild(d);
T.appendChild(Q);T.appendChild(p);g.dM(T,!1);var O=y.createElement({S:"div",rp:["branding-context-container-outer"]});O.appendChild(T);g.B0(O,"right",q.image_width+"px");g.Ki(y.aH(),O);y.N=new g.y0(function(){L6_(y,T,O)},500);
g.n(y,y.N);y.context.K.listen(y.aH(),"mouseover",function(){aom(y,T,O,d,q.image_height)});
y.context.K.listen(y.aH(),"mouseout",function(){y.N.start()})}},aom=function(y,q,Q,p,v){y.N.stop();
if(!y.Y){var d=g.v5(q);y.K||(q.style.width=g.Ci(d.width,!0),Q.style.width=g.Ci(d.width,!0));g.B0(p,"top",d.height-Math.max(Math.min(d.height,v)/2+10,20)+"px");g.B0(p,"right","1px");y.Y=!0;g.dM(q,!0);y.J=new g.y0(function(){g.wl(this.aH(),"iv-branding-active")},0,y);
y.J.start()}},L6_=function(y,q,Q){g.Fn(y.aH(),"iv-branding-active");
y.G=new g.y0(function(){g.dM(q,!1);y.K||(Q.style.width=g.Ci(0,!0))},250);
y.G.start();y.Y=!1},Sq_=function(y,q,Q,p,v,d,T){this.K=y;
this.N=q;this.KK=Q;this.videoData=p;this.logger=v;this.U=d;this.W=T},HAh=function(y,q,Q){Vw.call(this,y,q,Q);
var p=this;this.C=this.isCollapsed=this.j=!1;this.G=5E3;this.W=this.N=this.K=this.Y=null;this.X=this.createElement({S:"div",rp:["iv-promo-contents"]});this.J=new g.y0(function(){p.K.setAttribute("aria-hidden","true");g.dM(p.N,!1);g.dM(p.W,!0)},700,this);
g.n(this,this.J)},sMq=function(y){var q=y.annotation.data;
if(y.annotation.style==="cta")var Q=6;else if(y.annotation.style==="video"||y.annotation.style==="playlist")Q=7;y.G=q.collapsedelay_ms||y.G;var p=["iv-promo","iv-promo-inactive"];y.aH().setAttribute("aria-hidden","true");y.aH().setAttribute("aria-label","Promotion");y.aH().tabIndex=0;var v=y.annotation.i6(),d=q.image_url;if(d){var T=y.createElement({S:"div",rp:["iv-promo-img","iv-click-target"]});d=y.createElement({S:"img",B:{src:d,"aria-hidden":"true"}});T.appendChild(d);q.video_duration&&!q.is_live?
(d=y.createElement({S:"span",V:"iv-promo-video-duration",M$:q.video_duration}),T.appendChild(d)):q.playlist_length&&(d=y.createElement({S:"span",V:"iv-promo-playlist-length",M$:q.playlist_length.toString()}),T.appendChild(d));v&&C7(y,T,v,y.annotation.id,q.session_data,void 0,Q)}v?(d=y.createElement({S:"a",V:"iv-promo-txt"}),g.FB(d,Bf(v)),y.K=d):y.K=y.createElement({S:"div",V:"iv-promo-txt"});switch(y.annotation.style){case "cta":case "website":var O=y.createElement({S:"p",D:[{S:"strong",M$:q.text_line_1}]});
var w=y.createElement({S:"p",D:[{S:"span",V:"iv-promo-link",M$:q.text_line_2}]});if(d=q.text_line_3){p.push("iv-promo-website-card-cta-redesign");var J=y.createElement({S:"button",rp:["iv-promo-round-expand-icon","ytp-button"]});d=y.createElement({S:"button",rp:["iv-button","iv-promo-button"],D:[{S:"span",V:"iv-button-content",M$:d}]});var F=y.createElement({S:"div",V:"iv-promo-button-container"});F.appendChild(d);v&&C7(y,y.aH(),v,y.annotation.id,q.session_data,void 0,Q)}g.wl(y.K,"iv-click-target");
v&&C7(y,y.K,v,y.annotation.id,q.session_data,void 0,Q);break;case "playlist":case "video":O=y.createElement({S:"p",D:[{S:"span",M$:q.text_line_1}]}),w=y.createElement({S:"p",D:[{S:"strong",M$:q.text_line_2}]}),q.is_live&&(O=w,w=y.createElement({S:"span",rp:["yt-badge","iv-promo-badge-live"],M$:"LIVE NOW"})),g.wl(y.K,"iv-click-target"),v&&C7(y,y.K,v,y.annotation.id,q.session_data,void 0,Q),p.push("iv-promo-video")}O&&y.K.appendChild(O);w&&y.K.appendChild(w);y.X.appendChild(y.K);F&&y.X.appendChild(F);
Q=y.createElement({S:"div",V:"iv-promo-actions"});y.W=y.createElement({S:"button",rp:["iv-promo-expand","ytp-button"]});y.W.title="Expand";y.context.K.listen(y.W,"click",function(Y){RGm(y,5E3,Y)});
Q.appendChild(y.W);g.dM(y.W,!1);y.context.K.listen(y.aH(),"mouseover",y.Jn,y);y.context.K.listen(y.aH(),"mouseout",y.yW,y);y.context.K.listen(y.aH(),"touchend",function(Y){RGm(y,5E3,Y)});
y.N=y.createElement({S:"button",rp:["iv-promo-close","ytp-button"]});y.N.title="Close";y.context.K.listen(y.N,"click",y.annotation.style==="cta"&&q.text_line_3?y.wT:y.uL,y);Q.appendChild(y.N);g.Jr(y.aH(),p);T&&(g.Ki(y.aH(),T),J&&T.appendChild(J));g.Ki(y.aH(),y.X);g.Ki(y.aH(),Q)},RGm=function(y,q,Q){Q.stopPropagation();
M5w(y);lo_(y,q);y.K.focus()},zGe=function(y){y.isCollapsed||y.C||y.Y||(g.wl(y.aH(),"iv-promo-collapsed"),y.isCollapsed=!0,y.J.start())},M5w=function(y){y.J.stop();
y.isCollapsed&&(g.Yy(y.aH(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),y.isCollapsed=!1,y.K&&y.K.removeAttribute("aria-hidden"),g.dM(y.W,!1),g.dM(y.N,!0))},lo_=function(y,q){y.Y||(y.Y=g.ro(function(){DHh(this);
zGe(this)},q,y))},DHh=function(y){y.Y&&(g.CS.clearTimeout(y.Y),y.Y=null)},ukc=function(y){this.U=y},fom=function(y,q,Q){q&&(Q?wb(y,q.map(function(p){return g.l6(p,Q)})):wb(y,q))},wb=function(y,q,Q,p){var v=1,d=void 0,T=-1;
if(Q){var O=!1;d=function(){v--;v||O||(clearTimeout(T),O=!0,Q())};
T=setTimeout(function(){O=!0;Q()},1E3)}q=g.t(q||[]);
for(var w=q.next();!w.done;w=q.next())w=w.value,v++,g.n0(w,d);p&&(v++,p!==0&&y.U.sendVideoStatsEngageEvent(p,d))},g$S=function(y){g.LC.call(this,y);
var q=this;this.cI=this.C=!1;this.loadNumber=0;this.G={};this.logger=new ukc(this.player);this.Y=new g.sU(this);this.J=this.X=null;this.events=new g.sU(this);this.dK=this.j=this.K=null;this.N$=[];g.n(this,this.Y);this.Y.Z(this.player,"onVideoAreaChange",function(){q.publish("onVideoAreaChange")});
this.Y.Z(this.player,"onHideControls",function(){q.publish("onHideControls")});
this.Y.Z(this.player,"onShowControls",function(){q.publish("onShowControls")});
this.Y.Z(this.player,"resize",function(d){q.publish("resize",d)});
this.Y.Z(this.player,"presentingplayerstatechange",function(d){q.publish("presentingplayerstatechange",d)});
this.subscribe("presentingplayerstatechange",this.MF,this);this.subscribe("resize",this.h2,this);this.player.T().vI.subscribe("vast_info_card_add",this.Yc,this);g.n(this,this.events);this.m3=this.createElement({S:"div",V:"video-custom-annotations"});this.W=new g.r({S:"div",rp:["ytp-player-content","ytp-iv-player-content"]});g.n(this,this.W);g.pq(this.player,this.W.element,4);this.W.hide();this.N=new g.r({S:"div",rp:["ytp-iv-video-content"]});g.n(this,this.N);y=this.createElement({S:"div",V:"video-annotations"});
y.appendChild(this.m3);this.N.element.appendChild(y);this.x6()&&this.load();var Q=this.createElement({S:"style"});(g.T7("HEAD")[0]||document.body).appendChild(Q);this.addOnDisposeCallback(function(){g.Z5(Q)});
if(y=Q.sheet){for(var p=g.t(IoX),v=p.next();!v.done;v=p.next())y.insertRule(v.value,0);p=g.t(n$_);for(v=p.next();!v.done;v=p.next())y.insertRule(v.value,0)}},cOu=function(y){y=y.createElement({S:"div",
rp:["annotation","annotation-type-custom"]});g.dM(y,!1);return y},BFh=function(y,q){function Q(T){var O=y.loadNumber;
y.J=null;y.loaded&&y.loadNumber===O&&y.player.getVideoData().videoId===p&&(T=g.$Q(T)&&T.responseXML?T.responseXML:null)&&(UH_(y,T),g.wl(y.player.getRootNode(),"iv-module-loaded"))}
var p=q.videoId;g.jK()&&(Q=rOc(y,Q));var v={format:"XML",onFinish:Q,onError:function(){y.J=null},
urlParams:{}};q.isPharma&&(v.urlParams.pharma="1");v.method="POST";v.withCredentials=!0;var d=y.player.T().vI.get(p);d&&(Math.random()<g.wm(y.player.T().experiments,"annotation_module_vast_cards_load_logging_fraction")&&g.zI(new g.GH("Unexpected call to loadVastInfoCards; VastInfoCard exists.")),o$m(v,d));d=d&&(d.Wq||d.kp);if(!q.tT||d)q.LK?(Math.random()<g.wm(y.player.T().experiments,"annotation_module_vast_cards_load_logging_fraction")&&g.zI(new g.GH("Unexpected call to loadVastInfoCards; Attempting to load annotations via invideo URL.")),
AO_(y,q.LK,v)):(y.X=function(){if(!y.C)y.onVideoDataChange(v);var T=y.player.getVideoData();(T==null?0:g.O7(T))&&!y.cI&&eGG(y,T)},y.player.addEventListener("videodatachange",y.X))},G6q=function(y,q){q=!q.isCued()&&!g.G(q,1024);
y.W.BB(q);y.N.BB(q)},AO_=function(y,q,Q){y.C=!0;
y.J=g.HF(q,Q)},PDw=function(y,q){for(var Q={},p=g.t(q.attributes),v=p.next();!v.done;v=p.next())v=v.value,Q[v.name]=v.nodeValue;
for(p=0;p<q.childNodes.length;p++)if(v=q.childNodes[p],g.dk(v)&&v.nodeType==1){if(Q[v.tagName])var d=Q[v.tagName];else if(v.tagName==="data"){v.childNodes.length>0&&(d=v.childNodes[0].nodeValue,Q[v.tagName]=typeof d==="string"?d.trim():d);continue}else d=[],Q[v.tagName]=d;v&&v.tagName==="TEXT"?v.childNodes.length===1&&v.childNodes[0].nodeType===3?d.push(v.childNodes[0].nodeValue):d.push(""):v&&d.push(PDw(y,v))}return Q},iAu=function(y){var q=y.player.getVideoData();
if(q.LK){var Q=y.player.T().vI.get(q.videoId);if(Q){var p={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(v,d,T){v=y.loadNumber;d=q.videoId;y.loaded&&y.loadNumber===v&&y.player.getVideoData().videoId===d&&(T=g.$Q(T)&&T.responseXML?T.responseXML:null)&&UH_(y,T)}};
g.jK()&&(p.onFinish=rOc(y,p.onFinish));p.postParams={ic_only:"1"};o$m(p,Q);y.C=!0;g.HF(q.LK,p)}}},o$m=function(y,q){y.method="POST";
y.postParams=y.postParams||{};q.kp&&(y.postParams.ic_coll=q.kp);q.Wq&&(y.postParams.ic_xml=q.Wq);q.Jh&&(y.postParams.ic_track=q.Jh)},Xv_=function(y){var q=new g.r({S:"div"});
g.dM(q.element,!1);var Q=new OA_(y.player,q.element,JF(y));g.n(Q,q);q.ym(y.W.element);Q.GS();return Q},eGG=function(y,q){var Q,p;
if(q=(Q=q.getWatchNextResponse())==null?void 0:(p=Q.cards)==null?void 0:p.cardCollectionRenderer)y.cI=!0,mHC(y,q),q.headerText&&y.dK&&(Q=g.b7(q.headerText),y.player.L("player_tooltip_data_title_killswitch")?y.dK.setAttribute("title",Q):y.dK.setAttribute("data-tooltip-title",Q))},JF=function(y){if(!y.j){var q=new Hxk(y);
g.n(y,q);var Q=new g.WH(y);g.n(y,Q);y.j=new Sq_(q,Q,y.player.T(),y.player.getVideoData(),y.logger,y.player,y.yf)}return y.j},UH_=function(y,q){var Q=!1,p=q.getElementsByTagName("annotations");
if(p&&!(p.length<1)&&(p=p[0].getAttribute("itct"))){var v=g.LD();if(v){var d=g.kl();d&&g.q7(g.ep)(void 0,v,d,[g.t4(p)])}}q=q.getElementsByTagName("annotation");for(p=0;p<q.length;p++){d=PDw(y,q[p]);v=null;try{if(d){var T=d.id,O=/.+/;var w=typeof T==="string"&&O!=null&&T!=null&&T.match(O)?T:"";var J=eZ(d.type,CDk),F=eZ(d.style,yLC),Y=e8u(d.data),f=Y.length!==0?JSON.parse(Y):{};var h=d.action;d=m_m;if(h==null)var b=null;else if(g.ve(h)){O=[];for(var Z=g.t(h),k=Z.next();!k.done;k=Z.next()){var S=d(k.value);
S&&O.push(S)}b=O}else{var N=d(h);b=N?[N]:[]}v=w&&J?new CO_(w,J,F,b,f):null}else v=null}catch(Tf){}if(v)if(v.type==="branding"||v.type==="promotion"){d=y;O=v;var l=cOu(d),u=null;switch(O.type){case "branding":if(d.player.T().BT)break;d.player.L("web_player_overlay_positioned_layout")?(l.setAttribute("data-overlay-order","11"),d.player.GL(l,4,!0)):d.W.element.appendChild(l);u=new O5(l,JF(d),O);break;case "promotion":g.pq(d.player,l,4),u=new HAh(l,JF(d),O)}u&&u.GS();if(d=u)g.n(y,d),y.G[v.id]=d}else if(v.type===
"card"||v.type==="drawer"){y.K||(y.K=Xv_(y),g.n(y,y.K));if(v.type==="card"){l=y.K;var c=(Q=v)&&Q.data&&Q.data.card_type;v=Q.data;if(c)switch(d=v.tracking||{},d={NS:d.impression,click:d.click,close:d.close,j5:d.teaser_impression,MP:d.teaser_click},O=v.tracking_params||{},u=null,c){case "collaborator":Q={id:Q.id,timestamp:v.timestamp||0,type:v.card_type,teaserText:v.teaser_text,teaserDurationMs:v.teaser_duration_ms,startMs:v.start_ms,autoOpen:v.auto_open||!1,sessionData:v.session_data||{},sponsored:v.sponsored||
!1,uH:d,uE:O.card?g.t4(O.card):null,CV:O.teaser?g.t4(O.teaser):null,Kn:O.icon?g.t4(O.icon):null,channelId:v.channel_id,customMessage:v.custom_message?v.custom_message:null,profileImageUrl:v.image_url,title:v.title,metaInfo:v.meta_info,url:GV({pause_on_navigation:v.pause_on_navigation,target:v.target||"new",value:v.url}),onClickCommand:null};pc(l,Q);break;case "playlist":Q={id:Q.id,timestamp:v.timestamp||0,type:v.card_type,teaserText:v.teaser_text,teaserDurationMs:v.teaser_duration_ms,startMs:v.start_ms,
autoOpen:v.auto_open||!1,sessionData:v.session_data||{},sponsored:v.sponsored||!1,uH:d,uE:O.card?g.t4(O.card):null,CV:O.teaser?g.t4(O.teaser):null,Kn:O.icon?g.t4(O.icon):null,Cz:v.image_url,playlistVideoCount:v.playlist_video_count,customMessage:v.custom_message?v.custom_message:null,title:v.title,metaInfo:v.meta_info,url:GV({pause_on_navigation:v.pause_on_navigation,target:v.target||"new",value:v.url}),onClickCommand:null};pc(l,Q);break;case "productListing":v.signin_url&&(u=GV({target:"current",
value:v.signin_url}));c=[];for(var X=v.offers||[],A=0;A<X.length;A++)c.push(new v$c(g.ll(X[A].merchant),g.ll(X[A].price)));Q={id:Q.id,timestamp:v.timestamp||0,type:v.card_type,teaserText:v.teaser_text,teaserDurationMs:v.teaser_duration_ms,startMs:v.start_ms,autoOpen:v.auto_open||!1,sessionData:v.session_data||{},sponsored:v.sponsored||!1,uH:d,uE:O.card?g.t4(O.card):null,CV:O.teaser?g.t4(O.teaser):null,Kn:O.icon?g.t4(O.icon):null,imageUrl:v.image_url,displayDomain:v.display_domain?v.display_domain:
null,showLinkIcon:!!v.show_link_icon,Z7:v.button_icon_url?v.button_icon_url:null,title:v.title,customMessage:v.custom_message?v.custom_message:null,url:GV({pause_on_navigation:v.pause_on_navigation,target:v.target||"new",value:v.url}),msI:u,YLm:v.signin_title?v.signin_title:void 0,FvB:v.signin_message?v.signin_message:void 0,offers:c,onClickCommand:null};pc(l,Q);break;case "simple":Q={id:Q.id,timestamp:v.timestamp||0,type:v.card_type,teaserText:v.teaser_text,teaserDurationMs:v.teaser_duration_ms,
startMs:v.start_ms,autoOpen:v.auto_open||!1,sessionData:v.session_data||{},sponsored:v.sponsored||!1,uH:d,uE:O.card?g.t4(O.card):null,CV:O.teaser?g.t4(O.teaser):null,Kn:O.icon?g.t4(O.icon):null,imageUrl:v.image_url,displayDomain:v.display_domain?v.display_domain:null,showLinkIcon:!!v.show_link_icon,Z7:v.button_icon_url?v.button_icon_url:null,title:v.title,customMessage:v.custom_message?v.custom_message:null,url:GV({pause_on_navigation:v.pause_on_navigation,target:v.target||"new",value:v.url}),onClickCommand:null};
pc(l,Q);break;case "video":Q={id:Q.id,timestamp:v.timestamp||0,type:v.card_type,teaserText:v.teaser_text,teaserDurationMs:v.teaser_duration_ms,startMs:v.start_ms,autoOpen:v.auto_open||!1,sessionData:v.session_data||{},sponsored:v.sponsored||!1,uH:d,uE:O.card?g.t4(O.card):null,CV:O.teaser?g.t4(O.teaser):null,Kn:O.icon?g.t4(O.icon):null,Cz:v.image_url,videoDuration:v.video_duration||null,customMessage:v.custom_message?v.custom_message:null,title:v.title,metaInfo:v.meta_info,isLiveNow:!!v.is_live_now,
url:GV({pause_on_navigation:v.pause_on_navigation,target:v.target||"new",value:v.url}),onClickCommand:null},pc(l,Q)}}else wvc(y.K,v);Q=!0}}Q&&(Hf(y.player),y.h2())},mHC=function(y,q){var Q=!1;
y.K||(y.K=Xv_(y),g.n(y,y.K));for(var p=g.t(q.cards||[]),v=p.next();!v.done;v=p.next())v=v.value,v.cardRenderer&&(JOu(y.K,v.cardRenderer),Q=!0);if(Q){var d;(d=y.player.getVideoData())!=null&&g.O7(d)||(Q=y.K,p=q.headerText?g.b7(q.headerText):"",g.al(Q.cB,p),Q.J&&(Q.U.L("player_tooltip_data_title_killswitch")?Q.J.setAttribute("title",p):Q.J.setAttribute("data-tooltip-title",p)),Q.context.videoData.eventId&&(Q.eventId=Q.context.videoData.eventId),Q.gp=q.trackingParams?g.t4(q.trackingParams):null,Q.C=
q.closeButton.infoCardIconRenderer.trackingParams?g.t4(q.closeButton.infoCardIconRenderer.trackingParams):null,Q.Kn=q.icon.infoCardIconRenderer.trackingParams?g.t4(q.icon.infoCardIconRenderer.trackingParams):null,y.h2());Hf(y.player)}},rOc=function(y,q){return function(){var Q=g.nS.apply(0,arguments);
y.iB()||y.N$.push(g.BH.Dj(function(){q.apply(null,g.hH(Q))}))}},qSu=function(y){return y==="annotation-editor"||y==="live-dashboard"};
g.ih.prototype.v8=g.vp(39,function(y,q){var Q=g.IH(this.yN());Q&&Q.v8(y,q)});
var MA={},lC=null;g.bG(DK,g.hr);g.K=DK.prototype;g.K.getDuration=function(){return this.duration};
g.K.play=function(y){if(y||this.K==0)this.progress=0,this.coords=this.W;else if(this.isPlaying())return!1;zV(this);this.startTime=y=g.fh();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.Y=this.startTime;this.progress||this.s2();this.Mh("play");this.isPaused()&&this.Mh("resume");this.K=1;var q=g.V_(this);q in MA||(MA[q]=this);t7S();E4X(this,y);return!0};
g.K.stop=function(y){zV(this);this.K=0;y&&(this.progress=1);kEm(this,this.progress);this.onStop();this.T0()};
g.K.pause=function(){this.isPlaying()&&(zV(this),this.K=-1,this.Mh("pause"))};
g.K.FV=function(){this.K==0||this.stop(!1);this.Mh("destroy");DK.FC.FV.call(this)};
g.K.destroy=function(){this.dispose()};
g.K.z$=function(){this.Mh("animate")};
g.K.Mh=function(y){this.dispatchEvent(new Lm_(y,this))};
g.bG(Lm_,g.XG);g.bG(uC,DK);uC.prototype.N=function(){};
uC.prototype.z$=function(){this.N();uC.FC.z$.call(this)};
uC.prototype.T0=function(){this.N();uC.FC.T0.call(this)};
uC.prototype.s2=function(){this.N();uC.FC.s2.call(this)};
g.bG(a8q,uC);a8q.prototype.N=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.x(Hxk,g.I);g.K=Hxk.prototype;g.K.listen=function(y,q,Q,p){Q=(0,g.wk)(Q,p||this.W);y=g.ae(y,q,Q);this.K.push(y);return y};
g.K.h4=function(y,q,Q,p){Q=(0,g.wk)(Q,p||this.W);y=WmS(y,q,Q);this.K.push(y);return y};
g.K.UW=function(y){g.Nx(y);g.Lh(this.K,y)};
g.K.removeAll=function(){g.Nx(this.K);this.K.length=0};
g.K.FV=function(){this.removeAll();g.I.prototype.FV.call(this)};g.x(M7h,g.LC);g.K=M7h.prototype;g.K.load=function(){g.LC.prototype.load.call(this);if(!g2(this)){var y=g.qgC(this.player.getVideoData());y?(y=sAC(y,l8h(this)),cf(this,y,!1)):z8q(this)}};
g.K.unload=function(){cf(this,null);this.Y&&(this.Y.abort(),this.Y=null);g.LC.prototype.unload.call(this)};
g.K.c_=function(y,q){return g2(this)?y==="loadCustomEndscreenRenderer"?(y=sAC(q,"new"),cf(this,y),!0):null:null};
g.K.getOptions=function(){return g2(this)?["loadCustomEndscreenRenderer"]:[]};
g.K.n3=function(){if(this.endscreen&&this.endscreen.elements){var y=this.player.getVideoContentRect();if(y&&y.width!==0&&y.height!==0){var q=this.player.getPlayerSize();if(q&&q.width!==0&&q.height!==0){var Q=y.width/y.height;var p=0;for(var v=-1,d=0;d<j5w.length;d++){var T=Math.abs(q.width-j5w[d]);if(v===-1||p>=T)v=d,p=T}p=Q5k[v];this.N&&g.B0(this.N.element,"outline-width",Math.max(q.width,q.height)+"px");for(q=0;q<this.endscreen.elements.length;++q)if(d=this.endscreen.elements[q].id,v=this.W[d],
T=this.G[d],v&&T){var O=T.width*Q/T.aspectRatio,w=Math.round(T.width*y.width);d=Math.round(O*y.height);var J=y.left+Math.round(T.left*y.width),F=y.top+Math.round(T.top*y.height);g.pv(v.element,w,d);g.yh(v.element,J,F);g.Yy(v.element,pow);w>256||d>256?g.wl(v.element,"ytp-ce-large-round"):w>96||d>96?g.wl(v.element,"ytp-ce-medium-round"):g.wl(v.element,"ytp-ce-small-round");g.Yy(v.element,v6S);w=T.left+T.width/2;T=T.top+O/2;g.wl(v.element,w<=.5&&T<=.5?"ytp-ce-top-left-quad":w>.5&&T<=.5?"ytp-ce-top-right-quad":
w<=.5&&T>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.Yy(v.element,Q5k);g.wl(v.element,p);(v=g.OQ(document,"div","ytp-ce-expanding-overlay-body",v.element)[0])&&g.B0(v,"height",d+"px")}}}}};
g.K.onCueRangeEnter=function(y){if(this.endscreen)if(y.getId()==="ytp-ce-in-endscreen")AQ(this,this.endscreen.impressionUrls),(y=g.LD())&&this.endscreen.visualElement&&g.qP(y,this.endscreen.visualElement),this.K&&(g.wl(this.K,"ytp-ce-element-show"),this.K.removeAttribute("aria-hidden"),this.player.Mo()?g.wl(this.K,"ytp-ce-hide-button-lower"):g.Fn(this.K,"ytp-ce-hide-button-lower"));else{y=y.getId().substring(15);var q=this.W[y],Q=this.G[y];g.wl(q.element,"ytp-ce-element-show");q.element.removeAttribute("aria-hidden");
q=this.player.getRootNode();g.wl(q,"ytp-ce-shown");AQ(this,Q.impressionUrls);(q=g.LD())&&g.qP(q,Q.visualElement);this.player.T().C&&this.player.AK("endscreenelementshown",y)}};
g.K.onCueRangeExit=function(y){if(y.getId()==="ytp-ce-in-endscreen")this.K&&(g.Fn(this.K,"ytp-ce-element-show"),this.K.setAttribute("aria-hidden","true"));else{y=y.getId().substring(15);var q=this.W[y];g.Fn(q.element,"ytp-ce-element-show");q.element.setAttribute("aria-hidden","true");q=this.player.getRootNode();g.Fn(q,"ytp-ce-shown");this.player.T().C&&this.player.AK("endscreenelementhidden",y)}};
g.K.Nd3=function(y){var q=this;y.target===window&&(new g.y0(function(){for(var Q=g.t(Object.values(q.W)),p=Q.next();!p.done;p=Q.next())g.Yy(p.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.K.BB=function(y){for(var q=g.t(Object.values(this.W)),Q=q.next();!Q.done;Q=q.next())Q=Q.value,y?Q.element.setAttribute("hidden",""):Q.element.removeAttribute("hidden")};
g.K.ptf=function(y){this.K&&this.player.getRootNode().removeChild(this.K);y&&(g.wl(y,"ytp-ce-hide-button-container"),this.K=y,g.pq(this.player,this.K,4))};
var j5w=[346,426,470,506,570,640,853,1280,1920],Q5k="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),v6S=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],pow=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var GEq={lCj:"current",E6K:"new"};var ixk={CLOSE:"close",XAK:"openUrl",SUBSCRIBE:"subscribe"},XkX={Lgs:"click",CLOSE:"close",CVI:"hidden",knp:"rollOut",tGK:"rollOver",Omf:"shown"};CO_.prototype.i6=function(){var y=yOe(this,function(q){return q.type==="openUrl"&&q.url!=null});
return y?y.url:null};
var yLC={X_3:"anchored",Qi:"branding",CHANNEL:"channel",oxV:"cta",PVs:"highlightText",tAb:"label",PLAYLIST:"playlist",POPUP:"popup",REK:"speech",SUBSCRIBE:"subscribe",yuK:"title",VIDEO:"video",qSs:"website"},CDk={Qi:"branding",eFj:"card",cPy:"drawer",OFb:"highlight",WLp:"marker",qrs:"promotion",TEXT:"text",xrK:"widget"};var IoX=[".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}"],
n$_=[".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}"];g.x(m9,g.I);g.K=m9.prototype;g.K.addCueRange=function(y,q,Q,p,v){y=new g.yb(y,q,{id:Q,namespace:"annotations_module"});p&&this.HI.set(y,p);v&&this.Ty.set(y,v);this.context.U.Tf([y],1)};
g.K.GS=function(){this.context.W.subscribe("resize",this.xp,this)};
g.K.aH=function(){return this.element};
g.K.T$=function(y,q,Q,p,v,d){if(this.Os)return!1;d&&(d.stopPropagation(),d.preventDefault());this.navigate(y,Q,p,v);return!1};
g.K.show=function(){};
g.K.hide=function(){};
g.K.destroy=function(){g.Z5(this.aH())};
g.K.xp=function(){};
g.K.navigate=function(y,q,Q,p){var v=this,d=Bf(y);if(d){var T=TFk(d,y.target),O=function(){y.K&&v.context.U.pauseVideo();var w=v.context.videoData.cO||!1,J=g.TS(d||"");w&&J&&(J.v||J.list)?v.context.U.HA(J.v,q,J.list,!1):g.Pt(d||"",T==="current"?"_top":void 0,q)};
T==="new"&&(O(),O=null);wb(this.context.logger,Q,O,p);dH_(d)||(Q=g.LD(),p=q.itct,Q&&p&&g.p1(Q,g.t4(p)))}};
g.K.FV=function(){this.HI.clear();this.Ty.clear();g.I.prototype.FV.call(this)};
g.K.createElement=function(y){y=new g.r(y);g.n(this,y);return y.element};g.x(OA_,m9);g.K=OA_.prototype;g.K.gR=function(){this.N$&&pc(this,this.N$)};
g.K.isAvailable=function(){var y;if(y=!!this.cards.length)(y=this.U.getRootNode())?(y=g.v5(y),y=173<y.width&&173<y.height):y=!1;return y};
g.K.xp=function(){var y=this.isAvailable();g.dM(this.aH(),y);g.fU(this.context.U.getRootNode(),g.Sl.IV_DRAWER_ENABLED,y);Hf(this.U)};
g.K.destroy=function(){this.U.v8(!1);try{this.U.getRootNode().removeChild(this.Y)}catch(y){}g.V8(this.cI);g.lw(this.LK);this.Vm&&this.Vm.dispose();this.G&&this.G.dispose();m9.prototype.destroy.call(this)};
g.K.Me=function(){var y=this;this.context.K.listen(g.w0("iv-drawer-close-button",this.Y),"click",this.MH,this);this.context.K.listen(this.W,"touchend",function(){y.Sj.start()});
this.context.K.listen(this.W,"scroll",this.hC,this);this.context.W.subscribe("onHideControls",function(){y.vI=!0});
this.context.W.subscribe("onShowControls",function(){y.vI=!1});
this.context.W.subscribe("onVideoAreaChange",function(){y.vI=g.O$(y.U.getRootNode(),"ytp-autohide")});
this.cI.push(g.Q8("iv-button-shown",this.XII,this));this.cI.push(g.Q8("iv-button-hidden",this.x$I,this));bAn(this)};
g.K.findLastIndex=function(y){if(this.cards.length===0)return 0;var q=g.tm(this.cards,function(Q){return y.TI.startMs>Q.TI.startMs||y.TI.startMs===Q.TI.startMs&&y.TI.timestamp>=Q.TI.timestamp?!0:!1});
return q===-1?0:q+1};
g.K.MH=function(){if(this.N){wb(this.context.logger,Tg(this).uH.close);var y=g.LD();y&&this.C&&g.p1(y,this.C);j8(this)}};
g.K.hC=function(){g.fU(this.Y,"iv-drawer-scrolled",this.W.scrollTop>0)};
g.K.XII=function(){var y=g.LD(),q=Tg(this);q=q?q.Kn:this.Kn;y&&q&&g.jA(y,[q])};
g.K.x$I=function(){var y=g.LD(),q=Tg(this);q=q?q.Kn:this.Kn;y&&q&&g.Q6(y,[q])};
g.K.NF=function(){var y=Tg(this);wb(this.context.logger,y.uH.j5);var q=g.LD();if(q&&y)if(this.U.L("web_infocards_teaser_show_logging_fix")){var Q=[];y.CV&&Q.push(y.CV);y.Kn&&Q.push(y.Kn);Q.length>0&&g.jA(q,Q)}else g.jA(q,[y.CV,y.Kn])};
g.K.ZKI=function(){var y=g.LD(),q=Tg(this);y&&q&&g.Q6(y,[q.CV])};
g.K.R3=function(y){var q=Tg(this),Q=g.LD();this.K?y?(y=this.context.logger,wb(y,q.uH.MP),y.U.sendVideoStatsEngageEvent(4,void 0),Q&&q.CV&&g.p1(Q,q.CV)):(y=this.context.logger,wb(y,q.uH.MP),y.U.sendVideoStatsEngageEvent(4,void 0),Q&&q.Kn&&g.p1(Q,q.Kn)):(y=this.context.logger,wb(y,q.uH.MP),y.U.sendVideoStatsEngageEvent(4,void 0),Q&&this.Kn&&g.p1(Q,this.Kn))};g.x(Vw,m9);Vw.prototype.GS=function(){m9.prototype.GS.call(this);E$_(this)};
Vw.prototype.show=function(){m9.prototype.show.call(this);var y=g.LD(),q=this.annotation.data;y&&q&&(q=q.session_data)&&g.jA(y,[g.t4(q.itct)])};
Vw.prototype.hide=function(){m9.prototype.hide.call(this);var y=g.LD(),q=this.annotation.data;y&&q&&(q=q.session_data)&&g.Q6(y,[g.t4(q.itct)])};g.x(O5,Vw);
O5.prototype.show=function(){if(!this.isActive){Vw.prototype.show.call(this);if(!this.X){g.wl(this.aH(),"iv-branding");var y=this.annotation.data;this.W=this.createElement({S:"img",rp:["branding-img","iv-click-target"],B:{"aria-label":"Channel watermark",src:y.image_url,width:y.image_width,height:y.image_height}});g.dM(this.W,!1);var q=this.createElement({S:"button",rp:["branding-img-container","ytp-button"]});q.appendChild(this.W);this.aH().appendChild(q);var Q=this.annotation.i6();Q&&C7(this,q,
Q,this.annotation.id,y.session_data);this.context.U.L("disable_branding_context")||NFm(this,y);this.X=!0}g.dM(this.aH(),!0);this.isActive=!0;if(this.W){try{k6u(this,this.W)}catch(p){}g.wl(this.context.U.getRootNode(),"ytp-branding-shown");this.context.U.getRootNode().style.setProperty("--branding-image-width",this.W.getAttribute("width")+"px")}}};
O5.prototype.hide=function(){this.isActive&&(Vw.prototype.hide.call(this),g.dM(this.aH(),!1),this.isActive=!1,g.Fn(this.context.U.getRootNode(),"ytp-branding-shown"))};
O5.prototype.destroy=function(){this.K&&(this.K.dispose(),this.K=null);g.Fn(this.context.U.getRootNode(),"ytp-branding-shown");Vw.prototype.destroy.call(this)};g.x(HAh,Vw);g.K=HAh.prototype;g.K.show=function(){this.isActive||(Vw.prototype.show.call(this),this.j||(sMq(this),this.j=!0),g.dM(this.aH(),!0),g.ro(function(){g.Fn(this.aH(),"iv-promo-inactive")},100,this),this.aH().removeAttribute("aria-hidden"),this.isActive=!0,DHh(this),M5w(this),lo_(this,this.G))};
g.K.hide=function(){this.isActive&&(g.wl(this.aH(),"iv-promo-inactive"),this.isActive=!1,this.aH().setAttribute("aria-hidden","true"))};
g.K.T$=function(y,q,Q,p,v,d){return this.isCollapsed?!1:Vw.prototype.T$.call(this,y,q,Q,p,v,d)};
g.K.Jn=function(y){this.C=!0;RGm(this,500,y)};
g.K.yW=function(){this.C=!1;zGe(this)};
g.K.uL=function(y){y.stopPropagation();this.hide()};
g.K.wT=function(y){y.stopPropagation();DHh(this);this.isCollapsed=!0;g.wl(this.aH(),"iv-promo-collapsed-no-delay");this.J.start()};
g.K.destroy=function(){this.J.dispose();Vw.prototype.destroy.call(this)};g.x(g$S,g.LC);g.K=g$S.prototype;g.K.c_=function(y,q){if(!qSu(this.player.T().playerStyle))return null;switch(y){case "loadCustomAnnotationsXml":return(y=g.iJ(q))&&UH_(this,y),!0;case "removeCustomAnnotationById":return q&&this.K&&(Yq_(this.K,q),Hf(this.player)),!0}return null};
g.K.getOptions=function(){return qSu(this.player.T().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.K.x6=function(){var y=this.player.T(),q=this.player.getVideoData(),Q=y.annotationsLoadPolicy||q.annotationsLoadPolicy;return q.cO||this.player.isMutedByEmbedsMutedAutoplay()?!1:Q===1&&!q.BH||y.vI.get(q.videoId)||g.w6(q)||g.Js(q)?!0:!1};
g.K.h2=function(){if(this.N){var y=this.player.lB().getVideoContentRect(!0);g.pv(this.N.element,y.width,y.height);g.yh(this.N.element,y.left,y.top)}if(this.K){var q=this.player.eA();y=this.K;q=q.width;g.fU(y.Y,"iv-drawer-small",q<=426);g.fU(y.Y,"iv-drawer-big",q>=1280)}};
g.K.MF=function(y){G6q(this,y.state);g.G(y.state,2)&&(this.Mo()&&this.Y0()&&this.player.getPresentingPlayerType()!==2&&this.QR(!1),this.v8(!1))};
g.K.load=function(){g.LC.prototype.load.call(this);G6q(this,this.player.getPlayerStateObject());this.loadNumber++;var y=this.player.getVideoData();BFh(this,y);g.pq(this.player,this.N.element,4);this.h2();var q=g.w6(y);q&&mHC(this,q);if((q=g.Js(y))&&q.featuredChannel){var Q=q.featuredChannel;q=q.annotationId||"branding";var p=y.videoId||null,v=y.eventId||null;if(!this.player.T().BT){var d=[];Q.navigationEndpoint&&g.U(Q.navigationEndpoint,g.jY)&&g.U(Q.navigationEndpoint,g.jY).browseId&&d.push(new POh("openUrl",
"click",new Bu_("/channel/"+g.U(Q.navigationEndpoint,g.jY).browseId,"new",!0,!0)));var T=Q.watermark.thumbnails[0];p={channel_name:Q.channelName,end_ms:Q.endTimeMs,image_height:T.height,image_type:1,image_url:T.url,image_width:T.width,is_mobile:!1,session_data:{annotation_id:q,ei:v,feature:"iv",itct:Q.trackingParams,src_vid:p},start_ms:Q.startTimeMs};if(Q.subscribeButton&&g.U(Q.subscribeButton,g.Qo)){p.channel_id=g.U(Q.subscribeButton,g.Qo).channelId;var O;Q=g.U(Q.subscribeButton,g.Qo);T=v=null;Q.subscribed?
(Q.subscriberCountWithUnsubscribeText&&(v=g.b7(Q.subscriberCountWithUnsubscribeText)),Q.subscriberCountText&&(T=g.b7(Q.subscriberCountText))):(Q.subscriberCountText&&(v=g.b7(Q.subscriberCountText)),Q.subscriberCountWithSubscribeText&&(T=g.b7(Q.subscriberCountWithSubscribeText)));var w,J=((w=g.U((O=Q.signInEndpoint)==null?void 0:O.commandMetadata,g.ZV))==null?void 0:w.url)||"";O={subscribeText:g.b7(Q.unsubscribedButtonText),subscribeCount:v||"",unsubscribeText:g.b7(Q.subscribedButtonText),unsubscribeCount:T||
"",enabled:Q.enabled||!1,classic:!1,subscribed:Q.subscribed||!1,feature:"iv",signInUrl:J};p.standalone_subscribe_button_data=O}O=new CO_(q,"branding","branding",d,p);w=cOu(this);this.player.L("web_player_overlay_positioned_layout")?(w.setAttribute("data-overlay-order","11"),this.player.GL(w,4,!0)):this.W.element.appendChild(w);O=new O5(w,JF(this),O);O.GS();g.n(O,O);this.G[q]=O}}this.dK=g.w0("ytp-cards-button",this.player.getRootNode());g.O7(y)&&eGG(this,y)};
g.K.onVideoDataChange=function(y){var q=this.player.getVideoData();q.LK&&AO_(this,q.LK,y)};
g.K.unload=function(){this.player.BO("annotations_module");for(var y=g.t(Object.keys(this.G)),q=y.next();!q.done;q=y.next())this.G[q.value].destroy();this.j=null;this.K&&(this.K.destroy(),this.K=null,Hf(this.player));this.C=!1;this.J&&(this.J.abort(),this.J=null);this.cI=!1;this.G={};this.W.hide();g.LC.prototype.unload.call(this);this.N.detach();this.X&&(this.player.removeEventListener("videodatachange",this.X),this.X=null)};
g.K.Yc=function(y){y===this.player.getVideoData().videoId&&(this.loaded?iAu(this):this.load())};
g.K.Mo=function(){var y;return((y=this.K)==null?void 0:y.isAvailable())||this.cI};
g.K.Y0=function(){return!!this.K&&this.K.N};
g.K.QR=function(y,q,Q){q=q===void 0?!1:q;this.Mo();this.K&&(y?Q?qz(this.K,Q,q):qz(this.K,"YOUTUBE_DRAWER_AUTO_OPEN",q):j8(this.K))};
g.K.v8=function(y,q){this.player.publish(y?"cardsteasershow":"cardsteaserhide",q)};
g.K.FV=function(){this.player.T().vI.unsubscribe("vast_info_card_add",this.Yc,this);g.Fn(this.player.getRootNode(),g.Sl.IV_DRAWER_OPEN);for(var y=this.N$,q=g.BH,Q=0,p=y.length;Q<p;Q++)q.FM(y[Q]);this.N$.length=0;g.LC.prototype.FV.call(this)};
g.K.createElement=function(y){y=new g.r(y);g.n(this,y);return y.element};g.k1("annotations_module",g$S);g.k1("creatorendscreen",M7h);})(_yt_player);
